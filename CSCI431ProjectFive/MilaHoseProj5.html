<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Computer Graphics Project 5</title>

  <script id="vertex-shader" type="x-shader/x-vertex">
    attribute vec4 vPosition;
    attribute vec4 vColor;
    varying vec4 fColor;
    uniform vec3 thetav;
    vec3 angles = radians(thetav);
    vec3 c =  cos(angles);
    vec3 s = sin(angles);
    
    mat4 rx = mat4( 
      1.0, 0.0, 0.0, 0.0,
      0.0, c.x, s.x, 0.0,
      0.0, -s.x, c.x, 0.0,
      0.0, 0.0, 0.0, 1.0 
    );
          
    mat4 ry = mat4( 
      c.y, 0.0, -s.y, 0.0,
      0.0, 1.0, 0.0, 0.0,
      s.y, 0.0, c.y, 0.0,
      0.0, 0.0, 0.0, 1.0
    );
          
    mat4 rz = mat4( 
      c.z, -s.z, 0.0, 0.0,
      s.z, c.z, 0.0, 0.0,
      0.0, 0.0, 1.0, 0.0,
      0.0, 0.0, 0.0, 1.0 
    );
          
    uniform mat4 modelViewMatrix;
    uniform mat4 projectionMatrix;
    
    void main() {
      gl_Position = rx * ry * rz * projectionMatrix * modelViewMatrix *vPosition;
      fColor = vColor;
    } 
  </script>
    
  <script id="fragment-shader" type="x-shader/x-fragment">
    #ifdef GL_ES
      precision highp float;
    #endif

    varying vec4 fColor;
    
    void main(){
      gl_FragColor = fColor;
    }
  </script>

  <script type="text/javascript" src="webgl-utils.js"></script>
  <script type="text/javascript" src="initShaders.js"></script>
  <script type="text/javascript" src="MV.js"></script>
  <script type="text/javascript" src="MilaHosePyramid.js"></script>
</head>
  <body>
    <div>
      zNear .01
      <input id="zNearSlider" type="range" min=".01" max="3" step="0.1" value="0.3" />
      3
    </div>
    <div>
      zFar 3
      <input id="zFarSlider" type="range" min="3" max="10" step="3.0" value="3" />
      10
    </div>
    <div>
      radius 0.05
      <input id="radiusSlider" type="range" min="0.05" max="10" step="0.1" value="4" />
      10
    </div>
    <div>
      theta -90
      <input id="thetaSlider" type="range" min="-90" max="90" step="5" value="0" />
      90
    </div>
    <div>
      phi -90
      <input id="phiSlider" type="range" min="-90" max="90" step="5" value="0" />
      90
    </div>
    <div>
      fov 10
      <input id="fovSlider" type="range" min="10" max="120" step="5" value="45" />
      120
    </div>
    <div>
      aspect 0.5
      <input id="aspectSlider" type="range" min="0.5" max="2" step="0.1" value="1" />
      2
    </div>

    <canvas id="gl-canvas" width="512" height="512">
      Oops ... your browser doesn't support the HTML5 canvas element
    </canvas>
    
    <div>
      <button id="xButton">Rotate X</button>
      <button id="yButton">Rotate Y</button>
      <button id="zButton">Rotate Z</button>
      <button id="ButtonT">Toggle Rotation</button>
    </div>
  </body>
</html>